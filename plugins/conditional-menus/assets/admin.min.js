var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,f,d){a instanceof String&&(a=String(a));for(var g=a.length,k=0;k<g;k++){var b=a[k];if(f.call(d,b,k,a))return{i:k,v:b}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,d){a!=Array.prototype&&a!=Object.prototype&&(a[f]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,f,d,g){if(f){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var k=a[g];k in d||(d[k]={});d=d[k]}a=a[a.length-1];g=d[a];f=f(g);f!=g&&null!=f&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
jQuery(function(a){function f(b,c,h,e){var f=b.clone().removeClass("cm-location");f.find(".menu-location-title").empty();b=f.find("select").attr("name").match(/menu-locations\[(.*)\]/)[1];if(null==c){if("undefined"==typeof d[b]){c=parseInt;var g=themify_cm.options[b],k=[],l;for(l in g)g.hasOwnProperty(l)&&k.push(l);d[b]=c(a(k).last()[0]);a.isNumeric(d[b])||(d[b]=1)}c=d[b]++}f.find("select").find('option[value="0"]').text(themify_cm.lang.disable_menu).before('<option value=""></option>').end().val(h).attr("name",
"themify_cm["+b+"]["+c+"][menu]");h="themify_cm["+b+"]["+c+"][condition]";e=e||"";f.find(".locations-row-links").empty().html('<input type="hidden" name="'+h+"\" value='"+e+'\' /><a href="#" class="themify-cm-conditions">'+themify_cm.lang.conditions+'</a> <a class="themify-cm-remove" href="#">x</a>');f.insertBefore(jQuery('.menu-locations tr[data-menu="'+b+'"]'));e=a(".menu-location-menus select").length;h=a(".cm-replacement-button").length+1;f.find(".menu-location-menus").attr("data-item",b+c);e===
h&&a(".themify-cm-conditions-container:first").addClass("themify-cm-conditions-container-"+b+c).data("item",b+c);e>h&&a(".themify-cm-conditions-container:first").clone().removeClass().addClass("themify-cm-conditions-container themify-admin-lightbox clearfix themify-cm-conditions-container-"+b+c).data("item",b+c).insertAfter(".themify-cm-conditions-container:last");a(".lightbox_container",".themify-cm-conditions-container-"+b+c).html("")}var d=[],g,k=function(){var a=document;return Math.max(Math.max(a.body.scrollHeight,
a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))};a(".menu-locations .locations-row-links").empty();a("body").on("click",".themify-cm-conditions",function(b){b.preventDefault();var c=a(this);b=c.html();c.html('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>'+b);g=a(this).prev();var h=a(document).scrollTop()+80,e=a(".themify-cm-conditions-container-"+a(this).parents(".menu-location-menus").data("item"));
e.hasClass("is-loaded")?(a(".tb_slider_loader_wrapper",c).remove(),a("#themify-cm-overlay").show(),e.show().css("top",k()).animate({top:h},800),a("#visibility-tabs",e).tabs(),a("#visibility-tabs .themify-visibility-inner-tabs",e).tabs()):a.ajax({type:"POST",url:ajaxurl,data:{action:"themify_cm_get_conditions",selected:g.val()},success:function(b){a(".tb_slider_loader_wrapper",c).remove();a("#themify-cm-overlay").show();a(".lightbox_container",e).append(b);e.show().css("top",k()).animate({top:h},800);
a("#visibility-tabs",e).tabs();a("#visibility-tabs .themify-visibility-inner-tabs",e).tabs()}});return!1});a("body").on("click","#visibility-tabs .themify-visibility-tab",function(b){b.preventDefault();var c=a(this);if(!c.data("active")){b=c.data("type");var h=c.parents("#visibility-tabs").find(".themify-visibility-type-options[data-type="+b+"]"),e=c.parents(".themify-cm-conditions-container").data("item"),e=a(".menu-location-menus[data-item="+e+"] .locations-row-links input").val();a.ajax({url:ajaxurl,
type:"post",data:{action:"themify_create_inner_page",type:b,selected:e},beforeSend:function(){h.html('<div class="tb_slider_loader"></div>')},success:function(a){h.html(a);c.data("active","on")}})}});a("body").on("click",".themify-visibility-pagination .page-numbers",function(b){b.preventDefault();b=a(this);var c=b.parents(".themify-visibility-options"),h=b.parents(".themify-visibility-items-inner");a(".themify-visibility-items-page",h).addClass("is-hidden");var e=a(".themify-visibility-pagination",
h),f=parseFloat(a(".themify-visibility-pagination .current",h).text()),d=1;b.hasClass("next")?d=f+1:b.hasClass("prev")?d=f-1:b.hasClass("page-numbers")&&(d=parseFloat(b.text()));var g=a(".themify-visibility-items-inner",c);a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_page_pagination",current_page:d,num_of_pages:h.data("pages")},beforeSend:function(){a(".tb_slider_loader",c).remove();e.hide();g.append('<div class="tb_slider_loader"></div>')},success:function(b){a(".tb_slider_loader",
c).remove();a(".themify-visibility-items-page-"+d,h).removeClass("is-hidden");e.html(b).show()}})});a("body").on("click",".themify-cm-close, #themify-cm-overlay",function(b){b.preventDefault();var c=a(this).parents(".themify-cm-conditions-container");c.animate({top:k()},800,function(){a("#themify-cm-overlay").hide();c.hide().addClass("is-loaded")});return!1});a("body").on("click",".themify-mc-add-assignment",function(b){f(a("#locations-"+a(this).closest("tr").attr("data-menu")).closest("tr"));return!1});
a("body").on("click",".themify-cm-save",function(){var b=a(this).parents(".themify-cm-conditions-container"),c=b.data("item"),d=a("form",b).serialize();g.val(d);a(".menu-location-menus[data-item="+c+"]").val(d);a(".themify-cm-close",b).click();return!1});a("body").on("click",".themify-cm-remove",function(){a(this).closest("tr").fadeOut(function(){a(this).remove()});var b=a(this).closest(".menu-location-menus").data("item");1<a(".menu-location-menus[data-item]").length?a(".themify-cm-conditions-container-"+
b).remove():a(".themify-cm-conditions-container").removeClass().addClass("themify-cm-conditions-container themify-admin-lightbox clearfix");return!1});a("body").on("click",".themify-cm-conditions-container .uncheck-all",function(){a(this).before('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>');var b=a(this).parents(".themify-cm-conditions-container"),c=b.data("item");a(".menu-location-menus[data-item="+c+"] .locations-row-links input[type=hidden]").val("");a("input:checkbox",
b).removeAttr("checked");a(this).parent().find(".tb_slider_loader_wrapper").remove();return!1});a.each(themify_cm.nav_menus,function(b,c){a("#locations-"+c).closest("tr").after('<tr class="cm-replacement-button" data-menu="'+c+'"><td>&nbsp;</td><td><a href="#" class="themify-mc-add-assignment">'+themify_cm.lang.add_assignment+"</a></td></tr>")});a.each(themify_cm.options,function(b,c){"object"==typeof c&&a.each(c,function(c,e){f(a("#locations-"+b).closest("tr"),c,e.menu,e.condition);d[b]=++c})});
a("#themify-cm-about").appendTo("p.button-controls")});
